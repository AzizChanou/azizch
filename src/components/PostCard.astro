---
import Image from "astro/components/Image.astro";

const { post, page } = Astro.props;
---

<a href={`/${page}/${post.slug}/`}>
  <div
    class="group p-4 overflow-hidden rounded-lg shadow w-full shadow-white hover:bg-slate-200 hover:text-slate-950 hover:scale-105 duration-300"
  >
    <Image
      src={post.heroImage}
      alt={post.title}
      height={176}
      width={256}
      class="h-44 w-full rounded object-cover group-hover:shadow-xl duration-300"
      inferSize
    />
    <div class="flex flex-col justify-between gap-2 mt-4 h-full">
      {
        post.tags && (
          <div class="flex flex-wrap overflow-hidden gap-2 max-w-sm">
            {post.tags.map((tag: string) => (
              <span class="text-sm font-bold bg-slate-200 text-slate-900 group-hover:bg-slate-900 group-hover:text-slate-200 rounded px-2 py-1 text-nowrap">
                {tag}
              </span>
            ))}
          </div>
        )
      }
      <h2 class="text-xl font-bold">{post.title}</h2>
      <p class="">
        {post.description.substring(0, 60) + "..."}
      </p>
      {
        post.author && (
          <div class="flex items-center space-x-4">
            <img
              src="/img/_ultima.jpg"
              alt={post.author}
              class="size-10 rounded-full dark:bg-gray-500"
            />
            <div>
              <h3 class="font-medium">{post.author}</h3>
              <time datetime="2021-02-18" class="text-sm dark:text-gray-400">
                {post.pubDate.toDateString()}
              </time>
            </div>
          </div>
        )
      }
    </div>
  </div>
</a>
